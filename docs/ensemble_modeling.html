<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>ML for Stock Market Prediction (part 6): Ensemble Modeling &mdash; The Alpha Scientist</title>
  <meta name="author" content="Chad">






  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="/favicon.png" rel="icon">

  <link href="/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">

  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="/">The Alpha Scientist</a></h1>
    <h2>Alpha scientist blog</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>


<ul class="main-navigation">
      <li class="active">
        <a href="/category/blog.html">Blog</a>
      </li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">ML for Stock Market Prediction (part 6): Ensemble Modeling</h1>
    <p class="meta">
<time datetime="2018-06-30T20:04:00-07:00" pubdate>Сб 30 Июнь 2018</time>    </p>
</header>

  <div class="entry-content"><style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">&#182;</a></h3><p>Markets are, in my view, mostly random.  However, they're not <em>completely</em> random.  Many small inefficiencies and patterns exist in markets which can be identified and used to gain slight edge on the market.  These edges are rarely large enough to trade in isolation - transaction costs and overhead exceed the expected profits offered.</p>
<p>But when we are able to combine many such small edges together, the rewards can be great.</p>
<p>In this article, I'll present a framework for blending together outputs from multiple models using a type of ensemble modeling known as <em>stacked generalization</em>.  This approach excels at creating models which "generalize" well to unknown future data, making them an excellent choice for the financial domain, where overfitting to past data is a major challenge.</p>
<p>This post is the sixth and final installment in my tutorial series on applying machine learning to financial time series data.  If you haven't already read the prior articles, you may want to do that before starting this one.</p>
<h3 id="Stacked-Generalization">Stacked Generalization<a class="anchor-link" href="#Stacked-Generalization">&#182;</a></h3><p>The "stacked generalization" framework was initially proposed by Wolpert in a <a href="https://www.sciencedirect.com/science/article/pii/S0893608005800231">1992 academic paper</a>.  Since it was first proposed, stacked generalization (aka "stacking") has received a modest but consistent amount of attention from the ML research community.</p>
<p>The core concept</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">is_list_like</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">is_list_like</span> <span class="c1"># remove once updated pandas-datareader issue is fixed</span>
<span class="c1"># https://github.com/pydata/pandas-datareader/issues/534</span>
<span class="kn">import</span> <span class="nn">pandas_datareader.data</span> <span class="k">as</span> <span class="nn">web</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="k">def</span> <span class="nf">get_symbols</span><span class="p">(</span><span class="n">symbols</span><span class="p">,</span><span class="n">data_source</span><span class="p">,</span> <span class="n">begin_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">end_date</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">symbols</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">DataReader</span><span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">data_source</span><span class="p">,</span><span class="n">begin_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)[[</span><span class="s1">&#39;AdjOpen&#39;</span><span class="p">,</span><span class="s1">&#39;AdjHigh&#39;</span><span class="p">,</span><span class="s1">&#39;AdjLow&#39;</span><span class="p">,</span><span class="s1">&#39;AdjClose&#39;</span><span class="p">,</span><span class="s1">&#39;AdjVolume&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;open&#39;</span><span class="p">,</span><span class="s1">&#39;high&#39;</span><span class="p">,</span><span class="s1">&#39;low&#39;</span><span class="p">,</span><span class="s1">&#39;close&#39;</span><span class="p">,</span><span class="s1">&#39;volume&#39;</span><span class="p">]</span> <span class="c1">#my convention: always lowercase</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">symbol</span> <span class="c1"># add a new column which contains the symbol so we can keep multiple symbols in the same dataframe</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;symbol&#39;</span><span class="p">])</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">out</span><span class="p">,</span><span class="n">df</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#stacks on top of previously collected data</span>
    <span class="k">return</span> <span class="n">out</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
        
<span class="n">prices</span> <span class="o">=</span> <span class="n">get_symbols</span><span class="p">([</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span><span class="s1">&#39;CSCO&#39;</span><span class="p">,</span><span class="s1">&#39;AMZN&#39;</span><span class="p">,</span><span class="s1">&#39;YHOO&#39;</span><span class="p">,</span><span class="s1">&#39;MSFT&#39;</span><span class="p">],</span><span class="n">data_source</span><span class="o">=</span><span class="s1">&#39;quandl&#39;</span><span class="p">,</span><span class="n">begin_date</span><span class="o">=</span><span class="s1">&#39;2012-01-01&#39;</span><span class="p">,</span><span class="n">end_date</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="c1"># note, we&#39;re only using real price data to get an accurate date/symbol index set.  </span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[189]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">num_obs</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">add_memory</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">n_days</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span><span class="n">memory_strength</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; adds autoregressive behavior to series of data&#39;&#39;&#39;</span>
    <span class="n">add_ewm</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">memory_strength</span><span class="p">)</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">memory_strength</span><span class="o">*</span><span class="n">x</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">n_days</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;symbol&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">add_ewm</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="k">def</span> <span class="nf">make_random_walk</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">n_days</span><span class="o">=</span><span class="mi">254</span><span class="p">,</span><span class="n">reversion_strenth</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span><span class="n">bias</span><span class="o">=</span><span class="mf">1.</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; creates a random walk from series of IID values.  This creates</span>
<span class="sd">    a feature which tends to have streaks of high and low values but </span>
<span class="sd">    eventually reverts.  Bias term sets the long-term average value.</span>
<span class="sd">    When used on a multi-index, this creates some covariance _between_ </span>
<span class="sd">    symbols, which is probably more realistic&#39;&#39;&#39;</span>
    <span class="n">num_syms</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="s1">&#39;symbol&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="n">rw</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">reversion_strenth</span><span class="p">)</span><span class="o">*</span> <span class="n">s</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">n_days</span><span class="o">*</span><span class="n">num_syms</span><span class="p">,</span><span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">+</span> <span class="n">reversion_strenth</span><span class="o">*</span><span class="mf">0.</span><span class="o">+</span><span class="n">bias</span>
    <span class="k">return</span> <span class="n">rw</span>


<span class="n">factor_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="c1">#factor_1 = add_memory(factor_1,10,0.1)</span>
<span class="n">factor_1</span> <span class="o">=</span> <span class="n">make_random_walk</span><span class="p">(</span><span class="n">factor_1</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>

<span class="n">factor_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="c1">#factor_2 = add_memory(factor_2,10,0.1)</span>
<span class="n">factor_2</span> <span class="o">=</span> <span class="n">make_random_walk</span><span class="p">(</span><span class="n">factor_2</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>

<span class="n">factor_3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="c1">#factor_3 = add_memory(factor_3,10,0.1)</span>
<span class="n">factor_3</span> <span class="o">=</span> <span class="n">make_random_walk</span><span class="p">(</span><span class="n">factor_3</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>


<span class="c1">## generate feature data</span>

<span class="c1"># Features which represent factor 1</span>
<span class="n">f11</span> <span class="o">=</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">factor_1</span>  <span class="o">+</span> <span class="mf">0.75</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f12</span> <span class="o">=</span> <span class="mf">0.20</span><span class="o">*</span><span class="n">factor_1</span>  <span class="o">+</span> <span class="mf">0.8</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f13</span> <span class="o">=</span> <span class="mf">0.15</span><span class="o">*</span><span class="n">factor_1</span>  <span class="o">+</span> <span class="mf">0.85</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f14</span> <span class="o">=</span> <span class="mf">0.10</span><span class="o">*</span><span class="n">factor_1</span>  <span class="o">+</span> <span class="mf">0.90</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># Features which represent factor 2</span>
<span class="n">f21</span> <span class="o">=</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">factor_2</span>  <span class="o">+</span> <span class="mf">0.75</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f22</span> <span class="o">=</span> <span class="mf">0.20</span><span class="o">*</span><span class="n">factor_2</span>  <span class="o">+</span> <span class="mf">0.80</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f23</span> <span class="o">=</span> <span class="mf">0.15</span><span class="o">*</span><span class="n">factor_2</span>  <span class="o">+</span> <span class="mf">0.85</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f24</span> <span class="o">=</span> <span class="mf">0.10</span><span class="o">*</span><span class="n">factor_2</span>  <span class="o">+</span> <span class="mf">0.90</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># Features which represent factor 3</span>
<span class="n">f31</span> <span class="o">=</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">factor_3</span>  <span class="o">+</span> <span class="mf">0.75</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f32</span> <span class="o">=</span> <span class="mf">0.20</span><span class="o">*</span><span class="n">factor_3</span>  <span class="o">+</span> <span class="mf">0.20</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f33</span> <span class="o">=</span> <span class="mf">0.15</span><span class="o">*</span><span class="n">factor_3</span>  <span class="o">+</span> <span class="mf">0.85</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f34</span> <span class="o">=</span> <span class="mf">0.10</span><span class="o">*</span><span class="n">factor_3</span>  <span class="o">+</span> <span class="mf">0.90</span> <span class="o">*</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># interaction effects</span>
<span class="n">f41</span> <span class="o">=</span> <span class="n">f11</span><span class="o">-</span><span class="n">f21</span>
<span class="n">f42</span> <span class="o">=</span> <span class="n">f21</span><span class="o">-</span><span class="n">f31</span>
<span class="n">f43</span> <span class="o">=</span> <span class="n">f31</span><span class="o">-</span><span class="n">f11</span>
<span class="n">f44</span> <span class="o">=</span> <span class="n">f11</span><span class="o">+</span><span class="n">f21</span><span class="o">+</span><span class="n">f31</span>

<span class="c1"># Consider non-linear effects</span>

<span class="c1"># Random noise</span>
<span class="n">f51</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f52</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f53</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">f54</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>


<span class="n">features</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">f11</span><span class="p">,</span><span class="n">f12</span><span class="p">,</span><span class="n">f13</span><span class="p">,</span><span class="n">f14</span><span class="p">,</span><span class="n">f21</span><span class="p">,</span><span class="n">f22</span><span class="p">,</span><span class="n">f23</span><span class="p">,</span><span class="n">f24</span><span class="p">,</span>\
                      <span class="n">f31</span><span class="p">,</span><span class="n">f32</span><span class="p">,</span><span class="n">f33</span><span class="p">,</span><span class="n">f34</span><span class="p">,</span><span class="n">f41</span><span class="p">,</span><span class="n">f42</span><span class="p">,</span><span class="n">f43</span><span class="p">,</span><span class="n">f44</span><span class="p">,</span><span class="n">f51</span><span class="p">,</span><span class="n">f52</span><span class="p">,</span><span class="n">f53</span><span class="p">,</span><span class="n">f54</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">features</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;f11&#39;</span><span class="p">,</span><span class="s1">&#39;f12&#39;</span><span class="p">,</span><span class="s1">&#39;f13&#39;</span><span class="p">,</span><span class="s1">&#39;f14&#39;</span><span class="p">,</span><span class="s1">&#39;f21&#39;</span><span class="p">,</span><span class="s1">&#39;f22&#39;</span><span class="p">,</span><span class="s1">&#39;f23&#39;</span><span class="p">,</span><span class="s1">&#39;f24&#39;</span><span class="p">,</span>\
                      <span class="s1">&#39;f31&#39;</span><span class="p">,</span><span class="s1">&#39;f32&#39;</span><span class="p">,</span><span class="s1">&#39;f33&#39;</span><span class="p">,</span><span class="s1">&#39;f34&#39;</span><span class="p">,</span><span class="s1">&#39;f41&#39;</span><span class="p">,</span><span class="s1">&#39;f42&#39;</span><span class="p">,</span><span class="s1">&#39;f43&#39;</span><span class="p">,</span><span class="s1">&#39;f44&#39;</span><span class="p">,</span><span class="s1">&#39;f51&#39;</span><span class="p">,</span><span class="s1">&#39;f52&#39;</span><span class="p">,</span><span class="s1">&#39;f53&#39;</span><span class="p">,</span><span class="s1">&#39;f54&#39;</span><span class="p">]</span>

<span class="c1">## now, create response variable such that it is related to features:</span>
<span class="c1"># each factor&#39;s relationship to outcome varies in a random walk fashioo</span>
<span class="n">rnd_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">rnd_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">rnd_3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="n">outcome</span> <span class="o">=</span>   <span class="n">factor_1</span> <span class="o">*</span> <span class="n">make_random_walk</span><span class="p">(</span><span class="n">rnd_1</span><span class="p">,</span><span class="n">n_days</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">reversion_strenth</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span><span class="n">bias</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span> <span class="o">+</span> \
            <span class="n">factor_2</span> <span class="o">*</span> <span class="n">make_random_walk</span><span class="p">(</span><span class="n">rnd_2</span><span class="p">,</span><span class="n">n_days</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">reversion_strenth</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span><span class="n">bias</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span> <span class="o">+</span> \
            <span class="n">factor_3</span> <span class="o">*</span> <span class="n">make_random_walk</span><span class="p">(</span><span class="n">rnd_3</span><span class="p">,</span><span class="n">n_days</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">reversion_strenth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">bias</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span> \
            <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">)</span> <span class="o">*</span><span class="mi">10</span>


<span class="c1"># outcome =   factor_1 * np.linspace(0.5,1.5,num_obs) + \</span>
<span class="c1">#             factor_2 * np.linspace(1.5,0.5,num_obs) + \</span>
<span class="c1">#             factor_3 * pd.Series(np.sin(2*np.pi*np.linspace(0,1,num_obs)*2)+1,index=prices.index) +np.random.randn(num_obs) * 5 </span>
<span class="n">outcome</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;outcome&#39;</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[193]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">make_random_walk</span><span class="p">(</span><span class="n">rnd_1</span><span class="p">,</span><span class="n">n_days</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span><span class="n">reversion_strenth</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span><span class="n">bias</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;AMZN&#39;</span><span class="p">,</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;symbol&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[193]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1a24f194a8&gt;</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
QmCC
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[191]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">outcome</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;symbol&#39;</span><span class="p">,</span><span class="n">values</span><span class="o">=</span><span class="s1">&#39;outcome&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[191]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>symbol</th>
      <th>AAPL</th>
      <th>AMZN</th>
      <th>CSCO</th>
      <th>MSFT</th>
      <th>YHOO</th>
    </tr>
    <tr>
      <th>symbol</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AAPL</th>
      <td>1.000000</td>
      <td>0.418942</td>
      <td>0.391974</td>
      <td>0.385904</td>
      <td>0.391237</td>
    </tr>
    <tr>
      <th>AMZN</th>
      <td>0.418942</td>
      <td>1.000000</td>
      <td>0.372184</td>
      <td>0.377726</td>
      <td>0.352479</td>
    </tr>
    <tr>
      <th>CSCO</th>
      <td>0.391974</td>
      <td>0.372184</td>
      <td>1.000000</td>
      <td>0.352109</td>
      <td>0.354125</td>
    </tr>
    <tr>
      <th>MSFT</th>
      <td>0.385904</td>
      <td>0.377726</td>
      <td>0.352109</td>
      <td>1.000000</td>
      <td>0.368399</td>
    </tr>
    <tr>
      <th>YHOO</th>
      <td>0.391237</td>
      <td>0.352479</td>
      <td>0.354125</td>
      <td>0.368399</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[192]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">make_random_walk</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">num_obs</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">),</span><span class="n">n_days</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">reversion_strenth</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;symbol&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[192]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1a24eb10b8&gt;</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[194]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="k">import</span> <span class="n">LinearRegression</span><span class="p">,</span><span class="n">ElasticNetCV</span>

<span class="n">model_1</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
<span class="n">model_1</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">features</span><span class="p">[[</span><span class="s1">&#39;f11&#39;</span><span class="p">,</span><span class="s1">&#39;f12&#39;</span><span class="p">,</span><span class="s1">&#39;f13&#39;</span><span class="p">,</span><span class="s1">&#39;f14&#39;</span><span class="p">,</span><span class="s1">&#39;f41&#39;</span><span class="p">,</span><span class="s1">&#39;f51&#39;</span><span class="p">]],</span><span class="n">y</span><span class="o">=</span><span class="n">outcome</span><span class="p">)</span>

<span class="n">model_2</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
<span class="n">model_2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">features</span><span class="p">[[</span><span class="s1">&#39;f21&#39;</span><span class="p">,</span><span class="s1">&#39;f22&#39;</span><span class="p">,</span><span class="s1">&#39;f23&#39;</span><span class="p">,</span><span class="s1">&#39;f24&#39;</span><span class="p">,</span><span class="s1">&#39;f41&#39;</span><span class="p">,</span><span class="s1">&#39;f51&#39;</span><span class="p">]],</span><span class="n">y</span><span class="o">=</span><span class="n">outcome</span><span class="p">)</span>

<span class="n">model_3</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
<span class="n">model_3</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">features</span><span class="p">[[</span><span class="s1">&#39;f31&#39;</span><span class="p">,</span><span class="s1">&#39;f32&#39;</span><span class="p">,</span><span class="s1">&#39;f33&#39;</span><span class="p">,</span><span class="s1">&#39;f34&#39;</span><span class="p">,</span><span class="s1">&#39;f41&#39;</span><span class="p">,</span><span class="s1">&#39;f51&#39;</span><span class="p">]],</span><span class="n">y</span><span class="o">=</span><span class="n">outcome</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[194]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>LinearRegression(copy_X=True, fit_intercept=True, n_jobs=1, normalize=False)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[195]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">model_1</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">features</span><span class="p">[[</span><span class="s1">&#39;f11&#39;</span><span class="p">,</span><span class="s1">&#39;f12&#39;</span><span class="p">,</span><span class="s1">&#39;f13&#39;</span><span class="p">,</span><span class="s1">&#39;f14&#39;</span><span class="p">,</span><span class="s1">&#39;f41&#39;</span><span class="p">,</span><span class="s1">&#39;f51&#39;</span><span class="p">]],</span><span class="n">y</span><span class="o">=</span><span class="n">outcome</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model_1</span><span class="o">.</span><span class="n">coef_</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0.0113793477705
[ 0.84493563  0.77694527  0.31032315  0.11818614 -0.07466166  0.1920733 ]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[196]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">model_2</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">features</span><span class="p">[[</span><span class="s1">&#39;f21&#39;</span><span class="p">,</span><span class="s1">&#39;f22&#39;</span><span class="p">,</span><span class="s1">&#39;f23&#39;</span><span class="p">,</span><span class="s1">&#39;f24&#39;</span><span class="p">,</span><span class="s1">&#39;f41&#39;</span><span class="p">,</span><span class="s1">&#39;f51&#39;</span><span class="p">]],</span><span class="n">y</span><span class="o">=</span><span class="n">outcome</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model_2</span><span class="o">.</span><span class="n">coef_</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0.00772641989781
[ 1.15811476  0.25780985  0.03012271 -0.10792568  1.10673989  0.18312126]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[197]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">model_3</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">features</span><span class="p">[[</span><span class="s1">&#39;f31&#39;</span><span class="p">,</span><span class="s1">&#39;f32&#39;</span><span class="p">,</span><span class="s1">&#39;f33&#39;</span><span class="p">,</span><span class="s1">&#39;f34&#39;</span><span class="p">,</span><span class="s1">&#39;f41&#39;</span><span class="p">,</span><span class="s1">&#39;f51&#39;</span><span class="p">]],</span><span class="n">y</span><span class="o">=</span><span class="n">outcome</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model_3</span><span class="o">.</span><span class="n">coef_</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0.0120641264091
[-0.32105016 -2.06268023 -0.14139202 -0.16334661  0.50110306  0.19460689]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">features</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">KeyboardInterrupt</span>                         Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-11-3c2c89a07ba8&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-green-fg">import</span> seaborn <span class="ansi-green-fg">as</span> sns
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span>sns<span class="ansi-blue-fg">.</span>pairplot<span class="ansi-blue-fg">(</span>features<span class="ansi-blue-fg">,</span>size<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/seaborn/axisgrid.py</span> in <span class="ansi-cyan-fg">pairplot</span><span class="ansi-blue-fg">(data, hue, hue_order, palette, vars, x_vars, y_vars, kind, diag_kind, markers, size, aspect, dropna, plot_kws, diag_kws, grid_kws)</span>
<span class="ansi-green-intense-fg ansi-bold">   2036</span>     <span class="ansi-green-fg">if</span> grid<span class="ansi-blue-fg">.</span>square_grid<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2037</span>         <span class="ansi-green-fg">if</span> diag_kind <span class="ansi-blue-fg">==</span> <span class="ansi-blue-fg">&#34;hist&#34;</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 2038</span><span class="ansi-red-fg">             </span>grid<span class="ansi-blue-fg">.</span>map_diag<span class="ansi-blue-fg">(</span>plt<span class="ansi-blue-fg">.</span>hist<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>diag_kws<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2039</span>         <span class="ansi-green-fg">elif</span> diag_kind <span class="ansi-blue-fg">==</span> <span class="ansi-blue-fg">&#34;kde&#34;</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2040</span>             diag_kws<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#34;legend&#34;</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">False</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/seaborn/axisgrid.py</span> in <span class="ansi-cyan-fg">map_diag</span><span class="ansi-blue-fg">(self, func, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">   1321</span>                     diag_ax = ax._make_twin_axes(sharex=ax,
<span class="ansi-green-intense-fg ansi-bold">   1322</span>                                                  sharey<span class="ansi-blue-fg">=</span>diag_axes<span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg">-&gt; 1323</span><span class="ansi-red-fg">                                                  frameon=False)
</span><span class="ansi-green-intense-fg ansi-bold">   1324</span>                 <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   1325</span>                     diag_ax <span class="ansi-blue-fg">=</span> ax<span class="ansi-blue-fg">.</span>_make_twin_axes<span class="ansi-blue-fg">(</span>sharex<span class="ansi-blue-fg">=</span>ax<span class="ansi-blue-fg">,</span> frameon<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">False</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/axes/_subplots.py</span> in <span class="ansi-cyan-fg">_make_twin_axes</span><span class="ansi-blue-fg">(self, *kl, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    151</span> 
<span class="ansi-green-intense-fg ansi-bold">    152</span>         ax2 = subplot_class_factory(projection_class)(self.figure,
<span class="ansi-green-fg">--&gt; 153</span><span class="ansi-red-fg">                                                       *kl, **kwargs)
</span><span class="ansi-green-intense-fg ansi-bold">    154</span>         self<span class="ansi-blue-fg">.</span>figure<span class="ansi-blue-fg">.</span>add_subplot<span class="ansi-blue-fg">(</span>ax2<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    155</span>         <span class="ansi-green-fg">return</span> ax2

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/axes/_subplots.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, fig, *args, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">     71</span> 
<span class="ansi-green-intense-fg ansi-bold">     72</span>         <span class="ansi-red-fg"># _axes_class is set in the subplot_class_factory</span>
<span class="ansi-green-fg">---&gt; 73</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>_axes_class<span class="ansi-blue-fg">.</span>__init__<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> fig<span class="ansi-blue-fg">,</span> self<span class="ansi-blue-fg">.</span>figbox<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwargs<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     74</span> 
<span class="ansi-green-intense-fg ansi-bold">     75</span>     <span class="ansi-green-fg">def</span> __reduce__<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/axes/_base.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, fig, rect, facecolor, frameon, sharex, sharey, label, xscale, yscale, axisbg, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    549</span> 
<span class="ansi-green-intense-fg ansi-bold">    550</span>         self<span class="ansi-blue-fg">.</span>_connected <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">{</span><span class="ansi-blue-fg">}</span>  <span class="ansi-red-fg"># a dict from events to (id, func)</span>
<span class="ansi-green-fg">--&gt; 551</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>cla<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    552</span>         <span class="ansi-red-fg"># funcs used to format x and y - fall back on major formatters</span>
<span class="ansi-green-intense-fg ansi-bold">    553</span>         self<span class="ansi-blue-fg">.</span>fmt_xdata <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/axes/_base.py</span> in <span class="ansi-cyan-fg">cla</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    982</span>         self<span class="ansi-blue-fg">.</span>yaxis<span class="ansi-blue-fg">.</span>cla<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    983</span>         <span class="ansi-green-fg">for</span> name<span class="ansi-blue-fg">,</span> spine <span class="ansi-green-fg">in</span> six<span class="ansi-blue-fg">.</span>iteritems<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>spines<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 984</span><span class="ansi-red-fg">             </span>spine<span class="ansi-blue-fg">.</span>cla<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    985</span> 
<span class="ansi-green-intense-fg ansi-bold">    986</span>         self<span class="ansi-blue-fg">.</span>ignore_existing_data_limits <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">True</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/spines.py</span> in <span class="ansi-cyan-fg">cla</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    168</span>         self<span class="ansi-blue-fg">.</span>_position <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span>  <span class="ansi-red-fg"># clear position</span>
<span class="ansi-green-intense-fg ansi-bold">    169</span>         <span class="ansi-green-fg">if</span> self<span class="ansi-blue-fg">.</span>axis <span class="ansi-green-fg">is</span> <span class="ansi-green-fg">not</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 170</span><span class="ansi-red-fg">             </span>self<span class="ansi-blue-fg">.</span>axis<span class="ansi-blue-fg">.</span>cla<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    171</span> 
<span class="ansi-green-intense-fg ansi-bold">    172</span>     <span class="ansi-green-fg">def</span> is_frame_like<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/axis.py</span> in <span class="ansi-cyan-fg">cla</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    758</span>         self<span class="ansi-blue-fg">.</span>_set_artist_props<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>label<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    759</span> 
<span class="ansi-green-fg">--&gt; 760</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>reset_ticks<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    761</span> 
<span class="ansi-green-intense-fg ansi-bold">    762</span>         self<span class="ansi-blue-fg">.</span>converter <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/axis.py</span> in <span class="ansi-cyan-fg">reset_ticks</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    772</span>         cbook<span class="ansi-blue-fg">.</span>popall<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>minorTicks<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    773</span> 
<span class="ansi-green-fg">--&gt; 774</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>majorTicks<span class="ansi-blue-fg">.</span>extend<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span>self<span class="ansi-blue-fg">.</span>_get_tick<span class="ansi-blue-fg">(</span>major<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    775</span>         self<span class="ansi-blue-fg">.</span>minorTicks<span class="ansi-blue-fg">.</span>extend<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span>self<span class="ansi-blue-fg">.</span>_get_tick<span class="ansi-blue-fg">(</span>major<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">False</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    776</span>         self<span class="ansi-blue-fg">.</span>_lastNumMajorTicks <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">1</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/axis.py</span> in <span class="ansi-cyan-fg">_get_tick</span><span class="ansi-blue-fg">(self, major)</span>
<span class="ansi-green-intense-fg ansi-bold">   2058</span>         <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2059</span>             tick_kw <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_minor_tick_kw
<span class="ansi-green-fg">-&gt; 2060</span><span class="ansi-red-fg">         </span><span class="ansi-green-fg">return</span> YTick<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>axes<span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;&#39;</span><span class="ansi-blue-fg">,</span> major<span class="ansi-blue-fg">=</span>major<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>tick_kw<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2061</span> 
<span class="ansi-green-intense-fg ansi-bold">   2062</span>     <span class="ansi-green-fg">def</span> _get_label<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/axis.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, axes, loc, label, size, width, color, tickdir, pad, labelsize, labelcolor, zorder, gridOn, tick1On, tick2On, label1On, label2On, major)</span>
<span class="ansi-green-intense-fg ansi-bold">    150</span>         self<span class="ansi-blue-fg">.</span>tick1line <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_get_tick1line<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    151</span>         self<span class="ansi-blue-fg">.</span>tick2line <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_get_tick2line<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">--&gt; 152</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>gridline <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_get_gridline<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    153</span> 
<span class="ansi-green-intense-fg ansi-bold">    154</span>         self<span class="ansi-blue-fg">.</span>label1 <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_get_text1<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/axis.py</span> in <span class="ansi-cyan-fg">_get_gridline</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    581</span>                           linewidth<span class="ansi-blue-fg">=</span>rcParams<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;grid.linewidth&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    582</span>                           alpha<span class="ansi-blue-fg">=</span>rcParams<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;grid.alpha&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg">--&gt; 583</span><span class="ansi-red-fg">                           markersize=0)
</span><span class="ansi-green-intense-fg ansi-bold">    584</span> 
<span class="ansi-green-intense-fg ansi-bold">    585</span>         l<span class="ansi-blue-fg">.</span>set_transform<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>axes<span class="ansi-blue-fg">.</span>get_yaxis_transform<span class="ansi-blue-fg">(</span>which<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;grid&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/lines.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, xdata, ydata, linewidth, linestyle, color, marker, markersize, markeredgewidth, markeredgecolor, markerfacecolor, markerfacecoloralt, fillstyle, antialiased, dash_capstyle, solid_capstyle, dash_joinstyle, solid_joinstyle, pickradius, drawstyle, markevery, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    381</span>         self<span class="ansi-blue-fg">.</span>set_dash_capstyle<span class="ansi-blue-fg">(</span>dash_capstyle<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    382</span>         self<span class="ansi-blue-fg">.</span>set_dash_joinstyle<span class="ansi-blue-fg">(</span>dash_joinstyle<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">--&gt; 383</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>set_solid_capstyle<span class="ansi-blue-fg">(</span>solid_capstyle<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    384</span>         self<span class="ansi-blue-fg">.</span>set_solid_joinstyle<span class="ansi-blue-fg">(</span>solid_joinstyle<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    385</span> 

<span class="ansi-green-fg">~/anaconda/envs/cim3/lib/python3.6/site-packages/matplotlib/lines.py</span> in <span class="ansi-cyan-fg">set_solid_capstyle</span><span class="ansi-blue-fg">(self, s)</span>
<span class="ansi-green-intense-fg ansi-bold">   1477</span>         &#34;&#34;&#34;
<span class="ansi-green-intense-fg ansi-bold">   1478</span>         s <span class="ansi-blue-fg">=</span> s<span class="ansi-blue-fg">.</span>lower<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">-&gt; 1479</span><span class="ansi-red-fg">         </span><span class="ansi-green-fg">if</span> s <span class="ansi-green-fg">not</span> <span class="ansi-green-fg">in</span> self<span class="ansi-blue-fg">.</span>validCap<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   1480</span>             raise ValueError(&#39;set_solid_capstyle passed &#34;%s&#34;;\n&#39; % (s,)
<span class="ansi-green-intense-fg ansi-bold">   1481</span>                              + &#39;valid capstyles are %s&#39; % (self.validCap,))

<span class="ansi-red-fg">KeyboardInterrupt</span>: </pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Evaluating-Models">Evaluating Models<a class="anchor-link" href="#Evaluating-Models">&#182;</a></h2><p>Imagine that we created a simple linear model (such as below) and wanted to measure its effectiveness at prediction.</p>
<p><em>Note: we'll follow the walk-forward modeling process described in the <a href="">previous post</a>.  If you don't understand the below code snippet (and want to...) please check out that post.</em></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">recalc_dates</span> <span class="o">=</span> <span class="n">features</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;Q&#39;</span><span class="p">,</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">models</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">recalc_dates</span><span class="p">)</span>
<span class="k">for</span> <span class="n">date</span> <span class="ow">in</span> <span class="n">recalc_dates</span><span class="p">:</span>
    <span class="n">X_train</span> <span class="o">=</span> <span class="n">features</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="n">date</span><span class="p">),</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="n">drop_level</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">y_train</span> <span class="o">=</span> <span class="n">outcome</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="n">date</span><span class="p">),</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="n">drop_level</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
    <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>
    <span class="n">models</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">date</span><span class="p">]</span> <span class="o">=</span> <span class="n">model</span>
    
<span class="n">begin_dates</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">index</span>
<span class="n">end_dates</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;2099-12-31&#39;</span><span class="p">]))</span>

<span class="n">predictions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">features</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">model</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">models</span><span class="p">):</span> <span class="c1">#loop thru each models object in collection</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">features</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="n">begin_dates</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">end_dates</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="n">drop_level</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
    <span class="n">predictions</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">X</span><span class="o">.</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So we've got a model, we've got a sizeable set of (out of sample) predictions.  Is the model any good?  Should we junk it, tune it, or trade it?!?!?</p>
<p>Since this is a regression model, I'll throw our data into <code>scikit-learn</code>'s metrics package.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sklearn.metrics</span> <span class="k">as</span> <span class="nn">metrics</span>

<span class="c1"># make sure we have 1-for-1 mapping between pred and true</span>
<span class="n">common_idx</span> <span class="o">=</span> <span class="n">outcome</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">predictions</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">y_true</span> <span class="o">=</span> <span class="n">outcome</span><span class="p">[</span><span class="n">common_idx</span><span class="p">]</span>
<span class="n">y_true</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;y_true&#39;</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">predictions</span><span class="p">[</span><span class="n">common_idx</span><span class="p">]</span>
<span class="n">y_pred</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;y_pred&#39;</span>

<span class="n">standard_metrics</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>

<span class="n">standard_metrics</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;explained variance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">explained_variance_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">standard_metrics</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;MAE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">standard_metrics</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;MSE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">standard_metrics</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;MedAE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">median_absolute_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">standard_metrics</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;RSQ&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">r2_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">standard_metrics</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>explained variance    0.258671
MAE                   2.442411
MSE                   9.411255
MedAE                 2.043515
RSQ                   0.258669
dtype: float64
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>These stats don't really tell us much by themselves.  You may have an intuition for r-squared so that may give you a level of confidence in the models.  However, even this metric <a href="https://onlinecourses.science.psu.edu/stat501/node/258/">has problems</a> not to mention does not tell us much about the practicality of this signal from a trading point of view.</p>
<p>True, we could construct some trading rules around this series of predictions and perform a formal backtest on that.  However, that is quite time consuming and introduces a number of extraneous variables into the equation.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="A-better-way...">A better way...<a class="anchor-link" href="#A-better-way...">&#182;</a></h2><p>Below is a method and code framework for evaluating models along several useful dimensions.  Below I'll work through an example of creating a "scorecard" with about a half dozen metrics as a starting point.  You can feel free to extend this into a longer scorecard which is suited to your needs and beliefs.  In real-world application, I use about 25 metrics in a standard "scorecard" each time I evaluate a model.</p>
<p>I'll focus only on regression-oriented metrics (i.e., those which use a continuous prediction rather than a binary or classification prediction).  It's trivial to re-purpose the same framework to a classification-oriented environment.</p>
<p>In this approach, we'll create an extensible <em>scorecard</em> which can contain many custom-defined <em>metrics</em>.  These metrics can be combined and adapted in many different ways, some of which I'll lay out in the later part of this example.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Preparing-our-data">Preparing our data<a class="anchor-link" href="#Preparing-our-data">&#182;</a></h3><p>However, before implementing specific metrics we need to do some data pre-processing.  It'll become clear why doing this initially will save considerable time later when calculating aggregate metrics.</p>
<p>To create these intermediate values, you'll need the following inputs:</p>
<ul>
<li><strong>y_pred:</strong> the <em>continuous variable</em> prediction made by your model for each timestep, for each symbol</li>
<li><strong>y_true:</strong> the <em>continuous variable</em> actual outcome for each timestep, for each symbol.  </li>
<li><strong>index:</strong> this is the unique identifier for each prediction or actual result.  If working with a single instrument, then you can simply use date (or time or whatever).  If you're using multiple instruments, a multi-index with (date/symbol) is necessary. </li>
</ul>
<p>In other words, if your model is predicting one-day price changes, you'd want your y_pred to be the model's predictions made as of March 9th (for the coming day), indexed as <code>2017-03-09</code> and you'd want the actual <em>future</em> outcome which will play out in the next day also aligned to Mar 9th.  This "peeking" convention is very useful for working with large sets of data across different time horizons.  It is described ad nauseum in <a href="">this post</a>.</p>
<p>The raw input data we need to provide might look something like this:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">y_pred</span><span class="p">,</span><span class="n">y_true</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[41]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>y_pred</th>
      <th>y_true</th>
    </tr>
    <tr>
      <th>date</th>
      <th>symbol</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018-03-26</th>
      <th>MSFT</th>
      <td>-1.071804</td>
      <td>4.153848</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">2018-03-27</th>
      <th>AAPL</th>
      <td>0.157593</td>
      <td>-3.889481</td>
    </tr>
    <tr>
      <th>AMZN</th>
      <td>0.745981</td>
      <td>-2.981011</td>
    </tr>
    <tr>
      <th>CSCO</th>
      <td>-1.650829</td>
      <td>-0.472345</td>
    </tr>
    <tr>
      <th>MSFT</th>
      <td>0.230147</td>
      <td>-0.351625</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We will feed this data into a simple function which will return a dataframe with the y_pred and y_true values, along with several other useful derivative values.  These derivative values include:</p>
<ul>
<li><strong>sign_pred:</strong> positive or negative sign of prediction</li>
<li><strong>sign_true:</strong> positive or negative sign of true outcome</li>
<li><strong>is_correct:</strong> 1 if sign_pred == sign_true, else 0</li>
<li><strong>is_incorrect:</strong> opposite</li>
<li><strong>is_predicted:</strong> 1 if the model has made a valid prediction, 0 if not.  This is important if models only emit predictions when they have a certain level of confidence</li>
<li><strong>result:</strong> the profit (loss) resulting from betting one unit in the direction of the sign_pred.  This is the continuous variable result of following the model</li>
</ul>
<p>With this set of intermediate variables already calculated, we can easily calculate the three core metrics of accuracy, edge, and noise as simple one-liners.  For instance:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">make_df</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span><span class="n">y_true</span><span class="p">):</span>
    <span class="n">y_pred</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;y_pred&#39;</span>
    <span class="n">y_true</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;y_true&#39;</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">y_pred</span><span class="p">,</span><span class="n">y_true</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sign_pred&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">y_pred</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sign_true&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">y_true</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_correct&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">sign_pred</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">sign_true</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">,</span><span class="s1">&#39;is_correct&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># only registers 1 when prediction was made AND it was correct</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_incorrect&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">sign_pred</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">sign_true</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span><span class="s1">&#39;is_incorrect&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># only registers 1 when prediction was made AND it was wrong</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_predicted&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">is_correct</span> <span class="o">+</span> <span class="n">df</span><span class="o">.</span><span class="n">is_incorrect</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sign_pred</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">y_true</span> 
    <span class="k">return</span> <span class="n">df</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">make_df</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[54]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>y_pred</th>
      <th>y_true</th>
      <th>sign_pred</th>
      <th>sign_true</th>
      <th>is_correct</th>
      <th>is_incorrect</th>
      <th>is_predicted</th>
      <th>result</th>
    </tr>
    <tr>
      <th>date</th>
      <th>symbol</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2017-12-28</th>
      <th>MSFT</th>
      <td>-2.550990</td>
      <td>-0.896365</td>
      <td>-1.0</td>
      <td>-1.0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.896365</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">2017-12-29</th>
      <th>AAPL</th>
      <td>2.017710</td>
      <td>-1.399936</td>
      <td>1.0</td>
      <td>-1.0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>-1.399936</td>
    </tr>
    <tr>
      <th>AMZN</th>
      <td>5.045038</td>
      <td>9.069783</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>9.069783</td>
    </tr>
    <tr>
      <th>CSCO</th>
      <td>2.184684</td>
      <td>2.307088</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>2.307088</td>
    </tr>
    <tr>
      <th>MSFT</th>
      <td>-2.103886</td>
      <td>-1.772459</td>
      <td>-1.0</td>
      <td>-1.0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1.772459</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Defining-our-metrics">Defining our metrics<a class="anchor-link" href="#Defining-our-metrics">&#182;</a></h3><p>The metrics we'll start with here include things like:</p>
<ul>
<li><strong>Accuracy:</strong> Just as the name suggests, this measures the percent of predictions that were <em>directionally</em> correct vs. incorrect.</li>
<li><strong>Edge:</strong> perhaps the most useful of all metrics, this is the expected value of the prediction over a sufficiently large set of draws.  Think of this like a blackjack card counter who knows the expected profit on each dollar bet when the odds are at a level of favorability</li>
<li><strong>Noise:</strong> critically important but often ignored, the noise metric estimates how dramatically the model's predictions vary from one day to the next.  As you might imagine, a model which abruptly changes its mind every few days is much harder to follow (and much more expensive to follow) than one which is a bit more steady.    </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">calc_scorecard</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">scorecard</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
    <span class="c1"># building block metrics</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;accuracy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">is_correct</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">is_predicted</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mf">1.</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;edge&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;noise&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">y_pred</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="n">scorecard</span>    

<span class="n">calc_scorecard</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[50]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>accuracy    68.053010
edge         1.498217
noise        2.313429
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Much better.  I now know that we've been directionally correct 68% of the time, and that following this signal would create an edge of 1.5 units per time period.</p>
<p>Let's keep going.  We can now easily combine and transform things to derive new metrics.  The below function shows several examples, including:</p>
<ul>
<li><strong>y_true_chg</strong> and <strong>y_pred_chg:</strong> The average magnitude of change (per period) in y_true and y_pred.  </li>
<li><strong>prediction_calibration:</strong> A simple ratio of the magnitude of our predictions vs. magnitude of truth.  This gives some indication of whether our model is properly tuned to the size of movement in addition to the direction of it.  </li>
<li><strong>capture_ratio:</strong> Ratio of the "edge" we gain by naively following our predictions vs. the actual daily change.  100 would indicate that we were <em>perfectly</em> capturing the true movement of the target variable.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">calc_scorecard</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">scorecard</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
    <span class="c1"># building block metrics</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;accuracy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">is_correct</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">is_predicted</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mf">1.</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;edge&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;noise&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">y_pred</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="c1"># derived metrics</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;y_true_chg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">y_true</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;y_pred_chg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">y_pred</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;prediction_calibration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;y_pred_chg&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;y_true_chg&#39;</span><span class="p">]</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;capture_ratio&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;edge&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;y_true_chg&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span>

    <span class="k">return</span> <span class="n">scorecard</span>    

<span class="n">calc_scorecard</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[53]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>accuracy                  68.053010
edge                       1.498217
noise                      2.313429
y_true_chg                 2.846260
y_pred_chg                 1.622457
prediction_calibration     0.570031
capture_ratio             52.638083
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Additionally, metrics can be easily calculated for only long or short predictions (for a two-sided model) or separately for positions which ended up being winners and losers.</p>
<ul>
<li><strong>edge_long</strong> and <strong>edge_short:</strong> The "edge" for only long signals or for short signals.</li>
<li><strong>edge_win</strong> and <strong>edge_lose:</strong> The "edge" for only winners or for only losers.</li>
</ul>
<p>If you've added categorical information to your data (such as industry classification), you can also run these metrics on each category of holdings in your data.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">calc_scorecard</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">scorecard</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
    <span class="c1"># building block metrics</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;accuracy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">is_correct</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">is_predicted</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mf">1.</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;edge&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;noise&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">y_pred</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="c1"># derived metrics</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;y_true_chg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">y_true</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;y_pred_chg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">y_pred</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;prediction_calibration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;y_pred_chg&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;y_true_chg&#39;</span><span class="p">]</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;capture_ratio&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;edge&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;y_true_chg&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span>

    <span class="c1"># metrics for a subset of predictions</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;edge_long&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">sign_pred</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>  <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">y_true</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;edge_short&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">sign_pred</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>  <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">y_true</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;edge_win&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">is_correct</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>  <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">y_true</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">scorecard</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;edge_lose&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">is_incorrect</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>  <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">y_true</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">scorecard</span>    

<span class="n">calc_scorecard</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[55]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>accuracy                  68.053010
edge                       1.498217
noise                      2.313429
y_true_chg                 2.846260
y_pred_chg                 1.622457
prediction_calibration     0.570031
capture_ratio             52.638083
edge_long                  1.523674
edge_short                 1.537695
edge_win                   3.227642
edge_lose                 -2.083936
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From this toy example, we'd see that the model is predicting with a strong directional accuracy, is capturing about half of the total theoretical profit to be made, makes more on winners than it loses on losers, and is equally valid on both long and short predictions.  If this were real data, I would be rushing to put this model into production!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Comparing-models">Comparing models<a class="anchor-link" href="#Comparing-models">&#182;</a></h3><p>The true usefulness of this methodology comes when wanting to make comparisons.  Model A vs Model B.  Last year vs. this year.  Small cap vs. large cap.</p>
<p>To illustrate, let's say that we're comparing two models, a linear regression vs. a random forest, for performance on a training set and a testing set (pretend for a moment that we didn't adhere to <a href="">walk-forward modeling</a> practices...).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="k">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="k">import</span> <span class="n">ElasticNetCV</span><span class="p">,</span><span class="n">Lasso</span><span class="p">,</span><span class="n">Ridge</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="k">import</span> <span class="n">RandomForestRegressor</span>

<span class="n">X_train</span><span class="p">,</span><span class="n">X_test</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">features</span><span class="p">,</span><span class="n">outcome</span><span class="p">,</span><span class="n">test_size</span><span class="o">=</span><span class="mf">0.20</span><span class="p">,</span><span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># linear regression</span>
<span class="n">model1</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">model1_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">model1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">X_train</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">model1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">model1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">X_test</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="n">model2</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">model2_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">model2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">X_train</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">model2_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">model2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">X_test</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># create dataframes for each </span>
<span class="n">model1_train_df</span> <span class="o">=</span> <span class="n">make_df</span><span class="p">(</span><span class="n">model1_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">model1_test_df</span> <span class="o">=</span> <span class="n">make_df</span><span class="p">(</span><span class="n">model1_test</span><span class="p">,</span><span class="n">y_test</span><span class="p">)</span>
<span class="n">model2_train_df</span> <span class="o">=</span> <span class="n">make_df</span><span class="p">(</span><span class="n">model2_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">model2_test_df</span> <span class="o">=</span> <span class="n">make_df</span><span class="p">(</span><span class="n">model2_test</span><span class="p">,</span><span class="n">y_test</span><span class="p">)</span>

<span class="n">s1</span> <span class="o">=</span> <span class="n">calc_scorecard</span><span class="p">(</span><span class="n">model1_train_df</span><span class="p">)</span>
<span class="n">s1</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;model1_train&#39;</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">calc_scorecard</span><span class="p">(</span><span class="n">model1_test_df</span><span class="p">)</span>
<span class="n">s2</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;model1_test&#39;</span>
<span class="n">s3</span> <span class="o">=</span> <span class="n">calc_scorecard</span><span class="p">(</span><span class="n">model2_train_df</span><span class="p">)</span>
<span class="n">s3</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;model2_train&#39;</span>
<span class="n">s4</span> <span class="o">=</span> <span class="n">calc_scorecard</span><span class="p">(</span><span class="n">model2_test_df</span><span class="p">)</span>
<span class="n">s4</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;model2_test&#39;</span>

<span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span><span class="n">s2</span><span class="p">,</span><span class="n">s3</span><span class="p">,</span><span class="n">s4</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[58]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>model1_train</th>
      <th>model1_test</th>
      <th>model2_train</th>
      <th>model2_test</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>accuracy</th>
      <td>68.172149</td>
      <td>66.688482</td>
      <td>89.674358</td>
      <td>63.416230</td>
    </tr>
    <tr>
      <th>edge</th>
      <td>1.530878</td>
      <td>1.246150</td>
      <td>2.684656</td>
      <td>1.005425</td>
    </tr>
    <tr>
      <th>noise</th>
      <td>2.189366</td>
      <td>2.267483</td>
      <td>3.212055</td>
      <td>2.630878</td>
    </tr>
    <tr>
      <th>y_true_chg</th>
      <td>2.876355</td>
      <td>2.726693</td>
      <td>2.876355</td>
      <td>2.726693</td>
    </tr>
    <tr>
      <th>y_pred_chg</th>
      <td>1.539083</td>
      <td>1.576161</td>
      <td>2.251107</td>
      <td>1.854179</td>
    </tr>
    <tr>
      <th>prediction_calibration</th>
      <td>0.535081</td>
      <td>0.578049</td>
      <td>0.782625</td>
      <td>0.680010</td>
    </tr>
    <tr>
      <th>capture_ratio</th>
      <td>53.222835</td>
      <td>45.701870</td>
      <td>93.335358</td>
      <td>36.873418</td>
    </tr>
    <tr>
      <th>edge_long</th>
      <td>1.538075</td>
      <td>1.275836</td>
      <td>2.671214</td>
      <td>1.004218</td>
    </tr>
    <tr>
      <th>edge_short</th>
      <td>1.566409</td>
      <td>1.378230</td>
      <td>2.741317</td>
      <td>1.171162</td>
    </tr>
    <tr>
      <th>edge_win</th>
      <td>3.253860</td>
      <td>3.060814</td>
      <td>3.122101</td>
      <td>3.024714</td>
    </tr>
    <tr>
      <th>edge_lose</th>
      <td>-2.092247</td>
      <td>-2.140113</td>
      <td>-0.906834</td>
      <td>-2.270347</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This quick and dirty scorecard comparison gives us a great deal of useful information.  We learn that:</p>
<ul>
<li>The relatively simple linear regression (model1) does a good (unrealistically good...) job of prediction, ciorrect about 68% of the time and capturing about 53% of available price movement (this is very good) during training</li>
<li>Model1 holds up very well out of sample, performing almost as well on test as train</li>
<li>Model2, a more complex random forest ensemble model, appears <em>far</em> superior on the training data, capturing 90%+ of available price action, but appears quite overfit and does not perform nearly as well on the test set.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Take-it-further!">Take it further!<a class="anchor-link" href="#Take-it-further!">&#182;</a></h3><p>This example has demonstrated the basic framework</p>
<h2 id="Summary">Summary<a class="anchor-link" href="#Summary">&#182;</a></h2><p>In this tutorial, we've covered a framework for evaluating models in a market prediction context  and have demonstrated a few useful metrics.  However, the approach can be extended much further to suit your needs.  You can consider:</p>
<ul>
<li>Adding new metrics to the standard scorecard</li>
<li>Comparing scorecard metrics for subsets of the universe.  For instance, each symbol or grouping of symbols  </li>
<li>Calculating and plotting performance metrics across time</li>
</ul>
<p>Please feel free to add to the comment section with your good ideas for useful metrics.</p>
<p>In the next (and final) <a href="">post of this series</a>, I'll present a unique framework for creating an <em>ensemble model</em> to blend together the results of your many different forecasting models.</p>

</div>
</div>
</div>
 


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
</div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">
        Chad
    </span>
  </span>
<time datetime="2018-06-30T20:04:00-07:00" pubdate>Сб 30 Июнь 2018</time>  <span class="categories">
    <a class='category' href='/category/blog.html'>Blog</a>
  </span>
  <span class="categories">
    <a class="category" href="/tag/tutorial.html">Tutorial</a>  </span>
</p><div class="sharing">
</div>    </footer>
  </article>

</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="/ensemble_modeling.html">ML for Stock Market Prediction (part 6): Ensemble Modeling</a>
      </li>
      <li class="post">
          <a href="/model_evaluation.html">ML for Stock Market Prediction (part 5): Model Evaluation</a>
      </li>
      <li class="post">
          <a href="/walk_forward_model_building.html">ML for Stock Market Prediction (part 4): Walk-forward Modeling</a>
      </li>
      <li class="post">
          <a href="/feature_selection.html">ML for Stock Market Prediction (part 3): Feature Selection</a>
      </li>
      <li class="post">
          <a href="/feature_engineering.html">ML for Stock Market Prediction (part 2): Feature Engineering</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="/category/blog.html">Blog</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="/tag/tutorial.html">Tutorial</a>  </section>


    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="#" target="_blank">You can add links in your config file</a></li>
            <li><a href="#" target="_blank">Another social link</a></li>
        </ul>
    </section>

</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2018  Chad &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="/theme/js/modernizr-2.0.js"></script>
  <script src="/theme/js/ender.js"></script>
  <script src="/theme/js/octopress.js" type="text/javascript"></script>
  <script type="text/javascript">
    var disqus_shortname = 'alphascientist-com';
    var disqus_identifier = '/ensemble_modeling.html';
    var disqus_url = '/ensemble_modeling.html';
    var disqus_title = 'ML for Stock Market Prediction (part 6): Ensemble Modeling';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
</body>
</html>